---
layout:     post
title:      让 Terminal 飞起来
subtitle:   iTerm + oh-my-zsh 效率简约终端配置
date:       2021-12-19
author:     Rain Chen
header-img: img/posts.png
catalog: true
tags:
    - Mac
    - 开发与应用
---

# 让 Terminal 飞起来

## 使用 iTerm

### 安装

从这里下载安装：[iTerm2](https://iterm2.com)

把 iTerm.app 拖入 Applications 文件夹之后，就可以打开使用了。根据自己的需要对 iTerm 进行设置，例如终端上的显示信息等。

### 配置

我的 iTerm 配置文件，如下所示：

```json
{
  "Use Non-ASCII Font" : false,
  "Tags" : [

  ],
  "Ansi 12 Color" : {
    "Red Component" : 0.65349078178405762,
    "Color Space" : "sRGB",
    "Blue Component" : 0.9485321044921875,
    "Alpha Component" : 1,
    "Green Component" : 0.67044717073440552
  },
  "Guid" : "720BA903-717A-4AE9-A428-9E97E288F31C",
  "Normal Font" : "SFMono-Regular 18",
  "Bold Color" : {
    "Red Component" : 0.99999600648880005,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 1,
    "Green Component" : 1
  },
  "Horizontal Spacing" : 1,
  "Ansi 3 Color" : {
    "Red Component" : 0.78058648109436035,
    "Color Space" : "sRGB",
    "Blue Component" : 0,
    "Alpha Component" : 1,
    "Green Component" : 0.76959484815597534
  },
  "Ansi 4 Color" : {
    "Red Component" : 0.15404300391674042,
    "Color Space" : "sRGB",
    "Blue Component" : 0.78216177225112915,
    "Alpha Component" : 1,
    "Green Component" : 0.26474356651306152
  },
  "Rows" : 25,
  "Default Bookmark" : "No",
  "Cursor Guide Color" : {
    "Red Component" : 0.70213186740875244,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 0.25,
    "Green Component" : 0.9268307089805603
  },
  "Non-ASCII Anti Aliased" : true,
  "Use Bright Bold" : true,
  "Ansi 10 Color" : {
    "Red Component" : 0.3450070321559906,
    "Color Space" : "sRGB",
    "Blue Component" : 0.56541937589645386,
    "Alpha Component" : 1,
    "Green Component" : 0.9042816162109375
  },
  "Ambiguous Double Width" : false,
  "Jobs to Ignore" : [
    "rlogin",
    "ssh",
    "slogin",
    "telnet"
  ],
  "Show Status Bar" : true,
  "Ansi 15 Color" : {
    "Red Component" : 0.99999600648880005,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 1,
    "Green Component" : 1
  },
  "Foreground Color" : {
    "Red Component" : 0.86197912693023682,
    "Color Space" : "sRGB",
    "Blue Component" : 0.86198854446411133,
    "Alpha Component" : 1,
    "Green Component" : 0.86199951171875
  },
  "Working Directory" : "\/Users\/rainchen",
  "Blinking Cursor" : false,
  "Disable Window Resizing" : true,
  "Sync Title" : false,
  "Prompt Before Closing 2" : false,
  "BM Growl" : true,
  "Command" : "",
  "Description" : "Default",
  "Mouse Reporting" : true,
  "Screen" : -1,
  "Selection Color" : {
    "Red Component" : 0.70196080207824707,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 1,
    "Green Component" : 0.84313726425170898
  },
  "Only The Default BG Color Uses Transparency" : false,
  "Columns" : 80,
  "Idle Code" : 0,
  "Ansi 13 Color" : {
    "Red Component" : 0.8821563720703125,
    "Color Space" : "sRGB",
    "Blue Component" : 0.8821563720703125,
    "Alpha Component" : 1,
    "Green Component" : 0.4927266538143158
  },
  "Custom Command" : "No",
  "ASCII Anti Aliased" : true,
  "Non Ascii Font" : "Monaco 12",
  "Vertical Spacing" : 1,
  "Use Bold Font" : true,
  "Option Key Sends" : 0,
  "Selected Text Color" : {
    "Red Component" : 0,
    "Color Space" : "sRGB",
    "Blue Component" : 0,
    "Alpha Component" : 1,
    "Green Component" : 0
  },
  "Background Color" : {
    "Red Component" : 0.0806884765625,
    "Color Space" : "sRGB",
    "Blue Component" : 0.12103271484375,
    "Alpha Component" : 1,
    "Green Component" : 0.099111050367355347
  },
  "Character Encoding" : 4,
  "Ansi 11 Color" : {
    "Red Component" : 0.9259033203125,
    "Color Space" : "sRGB",
    "Blue Component" : 0,
    "Alpha Component" : 1,
    "Green Component" : 0.8833775520324707
  },
  "Use Italic Font" : true,
  "Unlimited Scrollback" : true,
  "Keyboard Map" : {
    "0xf700-0x260000" : {
      "Action" : 10,
      "Text" : "[1;6A"
    },
    "0x37-0x40000" : {
      "Action" : 11,
      "Text" : "0x1f"
    },
    "0x32-0x40000" : {
      "Action" : 11,
      "Text" : "0x00"
    },
    "0xf709-0x20000" : {
      "Action" : 10,
      "Text" : "[17;2~"
    },
    "0xf70c-0x20000" : {
      "Action" : 10,
      "Text" : "[20;2~"
    },
    "0xf729-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2H"
    },
    "0xf72b-0x40000" : {
      "Action" : 10,
      "Text" : "[1;5F"
    },
    "0xf705-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2Q"
    },
    "0xf703-0x260000" : {
      "Action" : 10,
      "Text" : "[1;6C"
    },
    "0xf700-0x220000" : {
      "Action" : 10,
      "Text" : "[1;2A"
    },
    "0xf701-0x280000" : {
      "Action" : 11,
      "Text" : "0x1b 0x1b 0x5b 0x42"
    },
    "0x38-0x40000" : {
      "Action" : 11,
      "Text" : "0x7f"
    },
    "0x33-0x40000" : {
      "Action" : 11,
      "Text" : "0x1b"
    },
    "0xf703-0x220000" : {
      "Action" : 10,
      "Text" : "[1;2C"
    },
    "0xf701-0x240000" : {
      "Action" : 10,
      "Text" : "[1;5B"
    },
    "0xf70d-0x20000" : {
      "Action" : 10,
      "Text" : "[21;2~"
    },
    "0xf702-0x260000" : {
      "Action" : 10,
      "Text" : "[1;6D"
    },
    "0xf729-0x40000" : {
      "Action" : 10,
      "Text" : "[1;5H"
    },
    "0xf706-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2R"
    },
    "0x34-0x40000" : {
      "Action" : 11,
      "Text" : "0x1c"
    },
    "0xf700-0x280000" : {
      "Action" : 11,
      "Text" : "0x1b 0x1b 0x5b 0x41"
    },
    "0x2d-0x40000" : {
      "Action" : 11,
      "Text" : "0x1f"
    },
    "0xf70e-0x20000" : {
      "Action" : 10,
      "Text" : "[23;2~"
    },
    "0xf702-0x220000" : {
      "Action" : 10,
      "Text" : "[1;2D"
    },
    "0xf703-0x280000" : {
      "Action" : 11,
      "Text" : "0x1b 0x1b 0x5b 0x43"
    },
    "0xf700-0x240000" : {
      "Action" : 10,
      "Text" : "[1;5A"
    },
    "0xf707-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2S"
    },
    "0xf70a-0x20000" : {
      "Action" : 10,
      "Text" : "[18;2~"
    },
    "0x35-0x40000" : {
      "Action" : 11,
      "Text" : "0x1d"
    },
    "0xf70f-0x20000" : {
      "Action" : 10,
      "Text" : "[24;2~"
    },
    "0xf703-0x240000" : {
      "Action" : 10,
      "Text" : "[1;5C"
    },
    "0xf701-0x260000" : {
      "Action" : 10,
      "Text" : "[1;6B"
    },
    "0xf702-0x280000" : {
      "Action" : 11,
      "Text" : "0x1b 0x1b 0x5b 0x44"
    },
    "0xf72b-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2F"
    },
    "0x36-0x40000" : {
      "Action" : 11,
      "Text" : "0x1e"
    },
    "0xf708-0x20000" : {
      "Action" : 10,
      "Text" : "[15;2~"
    },
    "0xf701-0x220000" : {
      "Action" : 10,
      "Text" : "[1;2B"
    },
    "0xf70b-0x20000" : {
      "Action" : 10,
      "Text" : "[19;2~"
    },
    "0xf702-0x240000" : {
      "Action" : 10,
      "Text" : "[1;5D"
    },
    "0xf704-0x20000" : {
      "Action" : 10,
      "Text" : "[1;2P"
    }
  },
  "Window Type" : 0,
  "Blur Radius" : 24.949717420212764,
  "Background Image Location" : "",
  "Blur" : true,
  "Badge Color" : {
    "Red Component" : 1,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 0.5,
    "Green Component" : 1
  },
  "Scrollback Lines" : 0,
  "Send Code When Idle" : false,
  "Close Sessions On End" : 0,
  "Terminal Type" : "xterm-256color",
  "Visual Bell" : true,
  "Flashing Bell" : false,
  "Status Bar Layout" : {
    "components" : [
      {
        "class" : "iTermStatusBarClockComponent",
        "configuration" : {
          "knobs" : {
            "base: priority" : 5,
            "shared text color" : {
              "Red Component" : 0.90000000000000002,
              "Color Space" : "sRGB",
              "Blue Component" : 0.63,
              "Alpha Component" : 1,
              "Green Component" : 0.63
            },
            "base: compression resistance" : 1,
            "format" : "M\/dd h:mm"
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarWorkingDirectoryComponent",
        "configuration" : {
          "knobs" : {
            "path" : "path",
            "minwidth" : 0,
            "shared text color" : {
              "Red Component" : 0.90000000000000002,
              "Color Space" : "sRGB",
              "Blue Component" : 0.63,
              "Alpha Component" : 1,
              "Green Component" : 0.84060000000000001
            },
            "base: priority" : 5,
            "base: compression resistance" : 1,
            "maxwidth" : 1.7976931348623157e+308
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarJobComponent",
        "configuration" : {
          "knobs" : {
            "maxwidth" : 1.7976931348623157e+308,
            "base: priority" : 5,
            "minwidth" : 0,
            "shared text color" : {
              "Red Component" : 0.74880000000000002,
              "Color Space" : "sRGB",
              "Blue Component" : 0.63,
              "Alpha Component" : 1,
              "Green Component" : 0.90000000000000002
            },
            "base: compression resistance" : 1
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarGitComponent",
        "configuration" : {
          "knobs" : {
            "maxwidth" : 1.7976931348623157e+308,
            "iTermStatusBarGitComponentPollingIntervalKey" : 2,
            "base: priority" : 5,
            "shared text color" : {
              "Red Component" : 0.63,
              "Color Space" : "sRGB",
              "Blue Component" : 0.7218,
              "Alpha Component" : 1,
              "Green Component" : 0.90000000000000002
            },
            "minwidth" : 0,
            "base: compression resistance" : 1
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarBatteryComponent",
        "configuration" : {
          "knobs" : {
            "base: priority" : 5,
            "base: compression resistance" : 1,
            "shared text color" : {
              "Red Component" : 0.63,
              "Color Space" : "sRGB",
              "Blue Component" : 0.90000000000000002,
              "Alpha Component" : 1,
              "Green Component" : 0.86760000000000004
            }
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarCPUUtilizationComponent",
        "configuration" : {
          "knobs" : {
            "base: priority" : 5,
            "base: compression resistance" : 1,
            "shared text color" : {
              "Red Component" : 0.63,
              "Color Space" : "sRGB",
              "Blue Component" : 0.90000000000000002,
              "Alpha Component" : 1,
              "Green Component" : 0.65700000000000003
            }
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarMemoryUtilizationComponent",
        "configuration" : {
          "knobs" : {
            "base: priority" : 5,
            "base: compression resistance" : 1,
            "shared text color" : {
              "Red Component" : 0.81359999999999999,
              "Color Space" : "sRGB",
              "Blue Component" : 0.90000000000000002,
              "Alpha Component" : 1,
              "Green Component" : 0.63
            }
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      },
      {
        "class" : "iTermStatusBarNetworkUtilizationComponent",
        "configuration" : {
          "knobs" : {
            "base: priority" : 5,
            "base: compression resistance" : 1,
            "shared text color" : {
              "Red Component" : 0.90000000000000002,
              "Color Space" : "sRGB",
              "Blue Component" : 0.77580000000000005,
              "Alpha Component" : 1,
              "Green Component" : 0.63
            }
          },
          "layout advanced configuration dictionary value" : {
            "remove empty components" : false,
            "font" : ".AppleSystemUIFont 12",
            "algorithm" : 0,
            "auto-rainbow style" : 3
          }
        }
      }
    ],
    "advanced configuration" : {
      "remove empty components" : false,
      "font" : ".AppleSystemUIFont 12",
      "algorithm" : 0,
      "auto-rainbow style" : 3
    }
  },
  "Show Timestamps" : 0,
  "Silence Bell" : false,
  "Ansi 14 Color" : {
    "Red Component" : 0.37597531080245972,
    "Color Space" : "sRGB",
    "Blue Component" : 1,
    "Alpha Component" : 1,
    "Green Component" : 0.99263292551040649
  },
  "Name" : "rainchen",
  "Cursor Text Color" : {
    "Red Component" : 0,
    "Color Space" : "sRGB",
    "Blue Component" : 0,
    "Alpha Component" : 1,
    "Green Component" : 0
  },
  "Shortcut" : "",
  "Cursor Color" : {
    "Red Component" : 0.99997633695602417,
    "Color Space" : "sRGB",
    "Blue Component" : 0.99998724460601807,
    "Alpha Component" : 1,
    "Green Component" : 1
  },
  "Transparency" : 0.50083942819148941,
  "Ansi 1 Color" : {
    "Red Component" : 0.7074432373046875,
    "Color Space" : "sRGB",
    "Blue Component" : 0.16300037503242493,
    "Alpha Component" : 1,
    "Green Component" : 0.23660069704055786
  },
  "Custom Directory" : "No",
  "Link Color" : {
    "Red Component" : 0.19802422821521759,
    "Color Space" : "sRGB",
    "Blue Component" : 0.9337158203125,
    "Alpha Component" : 1,
    "Green Component" : 0.55789834260940552
  },
  "Ansi 2 Color" : {
    "Red Component" : 0,
    "Color Space" : "sRGB",
    "Blue Component" : 0,
    "Alpha Component" : 1,
    "Green Component" : 0.7607843279838562
  },
  "Right Option Key Sends" : 0,
  "Ansi 6 Color" : {
    "Red Component" : 0,
    "Color Space" : "sRGB",
    "Blue Component" : 0.78166204690933228,
    "Alpha Component" : 1,
    "Green Component" : 0.77425903081893921
  },
  "Ansi 7 Color" : {
    "Red Component" : 0.7810397744178772,
    "Color Space" : "sRGB",
    "Blue Component" : 0.78104829788208008,
    "Alpha Component" : 1,
    "Green Component" : 0.78105825185775757
  },
  "Ansi 8 Color" : {
    "Red Component" : 0.40781760215759277,
    "Color Space" : "sRGB",
    "Blue Component" : 0.4078223705291748,
    "Alpha Component" : 1,
    "Green Component" : 0.40782788395881653
  },
  "Ansi 9 Color" : {
    "Red Component" : 0.8659515380859375,
    "Color Space" : "sRGB",
    "Blue Component" : 0.45833224058151245,
    "Alpha Component" : 1,
    "Green Component" : 0.47524076700210571
  },
  "Ansi 0 Color" : {
    "Red Component" : 0.078431375324726105,
    "Color Space" : "sRGB",
    "Blue Component" : 0.11764705926179886,
    "Alpha Component" : 1,
    "Green Component" : 0.098039217293262482
  },
  "Ansi 5 Color" : {
    "Red Component" : 0.752197265625,
    "Color Space" : "sRGB",
    "Blue Component" : 0.74494361877441406,
    "Alpha Component" : 1,
    "Green Component" : 0.24931684136390686
  }
}
```

以上的文件可以实现窗口的半透明模糊背景效果，字体使用的是 San Francisco Mono，字号为 18。

## 使用 oh-my-zsh

### 安装

官方的网址：[oh-my-zsh](https://ohmyz.sh)

安装方式非常简单，只需要输入以下命令：

```shell
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

但是鉴于「众所周知的原因」，官方给出的安装方法经常会遇到各种奇奇怪怪的问题。所以，我又找到了另一种有点「简单粗暴」的安装方式。当然，你还是要能够访问 GitHub 才行。从 oh-my-zsh 的仓库中 clone 整个仓库到本地，放在一个你认为合适的位置，找到其中的 `install.sh` 文件（目录在 `ohmyzsh/master/tools/install.sh`），在终端运行即可。保持网络连接。

如何在终端运行这个 `install.sh` 脚本？看下面：

```shell
cd /ohmyzsh/master/tools
sh install.sh
```

如果看到 oh-my-zsh 的 Code Banner 就算安装完成了。

### 配置

首次启动终端的时候，会在用户目录下生成一个 `.zshrc` 的文件。对，就是这个名字，不要以为它没有文件名只有扩展名。使用文本编辑器打开它，比如使用 Visual Studio Code，Sublime Text，Emacs，Vim 等等，都行。总而言之你需要打开它，然后发现以下内容。

```shell
# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH="/Users/rainchen/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time oh-my-zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="rainsmac"

# Set list of themes to pick from when loading at random
# Setting this variable when ZSH_THEME=random will cause zsh to load
# a theme from this variable instead of looking in $ZSH/themes/
# If set to an empty array, this variable will have no effect.
# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"

# Uncomment one of the following lines to change the auto-update behavior
# zstyle ':omz:update' mode disabled  # disable automatic updates
# zstyle ':omz:update' mode auto      # update automatically without asking
# zstyle ':omz:update' mode reminder  # just remind me to update when it's time

# Uncomment the following line to change how often to auto-update (in days).
# zstyle ':omz:update' frequency 13

# Uncomment the following line if pasting URLs and other text is messed up.
# DISABLE_MAGIC_FUNCTIONS="true"

# Uncomment the following line to disable colors in ls.
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# You can also set it to another string to have that shown instead of the default red dots.
# e.g. COMPLETION_WAITING_DOTS="%F{yellow}waiting...%f"
# Caution: this setting can cause issues with multiline prompts in zsh < 5.7.1 (see #5765)
# COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# You can set one of the optional three formats:
# "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# or set a custom format using the strftime function format specifications,
# see 'man strftime' for details.
# HIST_STAMPS="mm/dd/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git)

source $ZSH/oh-my-zsh.sh

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"

source /opt/homebrew/Cellar/zsh-syntax-highlighting/0.7.1/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /opt/homebrew/Cellar/zsh-autosuggestions/0.7.0/share/zsh-autosuggestions/zsh-autosuggestions.zsh

```

接下来你需要去编辑这个配置文件。设定自己喜欢的主题，这个主题可以是 oh-my-zsh 预设的主题，也可以自己做的主题。只要主题文件放在 oh-my-zsh 的安装位置的主题文件夹 `/Users/rainchen/.oh-my-zsh/themes` 下就行。

```shell
ZSH_THEME="这里写你的主题名字"
```

下面分享我的主题配置文件：（注意， Apple 的标记在某些系统上可能无法显示）

```shell
function toon {
  echo -n ""
}

get_git_dirty() {
  git diff --quiet || echo '*'
}

autoload -Uz vcs_info
zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' unstagedstr '%F{red}*'   # display this when there are unstaged changes
zstyle ':vcs_info:*' stagedstr '%F{yellow}+'  # display this when there are staged changes
zstyle ':vcs_info:*' actionformats \
    '%F{5}%F{5}[%F{2}%b%F{3}|%F{1}%a%c%u%F{5}]%f '
zstyle ':vcs_info:*' formats       \
    '%F{5}%F{5}[%F{2}%b%c%u%F{5}]%f '
zstyle ':vcs_info:(sv[nk]|bzr):*' branchformat '%b%F{1}:%F{3}%r'
zstyle ':vcs_info:*' enable git cvs svn

theme_precmd () {
    vcs_info
}

setopt prompt_subst
PROMPT='%{$fg[magenta]%}$(toon)%{$reset_color%} %~/ %# %{$reset_color%}${vcs_info_msg_0_}%{$reset_color%}'

autoload -U add-zsh-hook
add-zsh-hook precmd theme_precmd

```

### 添加插件

下面介绍我使用的两个比较好用而且经典的插件

#### zsh-syntax-highlighting

顾名思义，语法高亮。使用 Homebrew 安装。

```shell
brew install zsh-syntax-highlighting
```

安装完之后，查看软件包的路径。然后把路径添加到 `.zshrc` 配置文件的最后。

```shell
source /opt/homebrew/Cellar/zsh-syntax-highlighting/0.7.1/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
```

保存即可。随后在终端 Shell 中输入下面的指令来使配置生效。

```shell
source ~/.zshrc
```

#### zsh-autosuggestions

这个包，顾名思义，自动建议和补全。可以自动补全指令，减少了大量的输入，降低了出错的风险。

同样，我们使用 Homebrew 安装这个软件包。

```shell
brew install zsh-autosuggestions
```

安装完成之后，查看软件包的路径。然后把路径添加到 `.zshrc` 配置文件的最后。

```shell
source /opt/homebrew/Cellar/zsh-autosuggestions/0.7.0/share/zsh-autosuggestions/zsh-autosuggestions.zsh
```

保存即可。随后在终端 Shell 中输入下面的指令来使配置生效。

```shell
source ~/.zshrc
```

## 写在后面

至此，我们的终端配置就基本完成了，之后可以根据自己的需要对终端进行配置。


